<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/build-with-jdk23.sh">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/build-with-jdk23.sh" />
              <option name="originalContent" value="&#10;" />
              <option name="updatedContent" value="#!/usr/bin/env bash&#10;# Helper: run the Maven build using a local JDK 23 if available&#10;set -euo pipefail&#10;&#10;# Try macOS java_home to locate JDK 23&#10;if command -v /usr/libexec/java_home &gt;/dev/null 2&gt;&amp;1; then&#10;  JDK23=$(/usr/libexec/java_home -v 23 2&gt;/dev/null || true)&#10;else&#10;  JDK23=&quot;&quot;&#10;fi&#10;&#10;if [ -z &quot;${JDK23}&quot; ]; then&#10;  echo &quot;JDK 23 not found on this machine.&quot;&#10;  echo &quot;Options to proceed:&quot;&#10;  echo &quot;  1) Install JDK 23 (Homebrew, SDKMAN, or from Temurin/Adoptium).&quot;&#10;  echo &quot;     Example (Homebrew, if formula available): brew install openjdk@23&quot;&#10;  echo &quot;  2) Use a Maven+JDK23 Docker image (Temurin build):&quot;&#10;  echo &quot;     docker run --rm -v \&quot;$(pwd)\&quot;:/workspace -w /workspace maven:3.9.11-eclipse-temurin-23 mvn -U -DskipTests package&quot;&#10;  echo &quot;     # If that tag is unavailable on your registry mirror, you can use OpenJDK 23 and install maven inline:&quot;&#10;  echo &quot;     docker run --rm -v \&quot;$(pwd)\&quot;:/workspace -w /workspace openjdk:23-jdk-slim bash -lc 'apt-get update &amp;&amp; apt-get install -y maven &amp;&amp; mvn -U -DskipTests package'&quot;&#10;  echo &quot;  3) Configure Maven toolchains by copying 'toolchains-sample.xml' to '~/.m2/toolchains.xml' and editing &lt;jdkHome&gt; to point to your JDK 23 installation.&quot;&#10;  echo&#10;  echo &quot;If you have JDK 23 installed, re-run this script after installing it or update the TOOLCHAIN file.&quot;&#10;  exit 1&#10;fi&#10;&#10;export JAVA_HOME=&quot;$JDK23&quot;&#10;export PATH=&quot;$JAVA_HOME/bin:$PATH&quot;&#10;&#10;echo &quot;Using JAVA_HOME=$JAVA_HOME&quot;&#10;java -version&#10;mvn -U -DskipTests -Djava-23 -Pjava-23 package" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/frontend/src/router/index.js">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/frontend/src/router/index.js" />
              <option name="originalContent" value="import { createRouter, createWebHistory } from 'vue-router';&#10;import { useAuthStore } from '@/store/auth';&#10;&#10;import HomeView from '../views/HomeView.vue';&#10;import LoginView from '../views/LoginView.vue';&#10;import RegisterView from '../views/RegisterView.vue';&#10;import ProductCreate from '../views/ProductCreate.vue';&#10;import ProductDetail from '../views/ProductDetail.vue';&#10;&#10;// ===== 定义路由规则 =====&#10;const routes = [&#10;    {&#10;        path: '/',&#10;        name: 'home',&#10;        component: HomeView,&#10;        meta: { requiresAuth: true }, // 需要登录才能访问&#10;    },&#10;    {&#10;        path: '/login',&#10;        name: 'login',&#10;        component: LoginView,&#10;        meta: { requiresAuth: false }, // 登录页不需要权限&#10;    },&#10;    {&#10;        path: '/register',&#10;        name: 'register',&#10;        component: RegisterView,&#10;        meta: { requiresAuth: false },&#10;    },&#10;    {&#10;        path: '/products/create',&#10;        name: 'product-create',&#10;        component: ProductCreate,&#10;        meta: { requiresAuth: true },&#10;    },&#10;    {&#10;        path: '/products/:id',&#10;        name: 'product-detail',&#10;        component: ProductDetail,&#10;    },&#10;    {&#10;        path: '/:pathMatch(.*)*',&#10;        redirect: '/', // 未匹配的路径全部重定向到首页&#10;    },&#10;];&#10;&#10;// ===== 创建路由实例 =====&#10;const router = createRouter({&#10;    history: createWebHistory(process.env.BASE_URL),&#10;    routes,&#10;});&#10;&#10;// ===== 全局路由守卫 =====&#10;router.beforeEach((to, from, next) =&gt; {&#10;    const authStore = useAuthStore();&#10;&#10;    // 如果目标路由需要认证但用户未登录 → 跳转到登录页&#10;    if (to.meta.requiresAuth &amp;&amp; !authStore.isLoggedIn) {&#10;        next('/login');&#10;    }&#10;    // 如果用户已登录还去 login/register → 跳转到首页&#10;    else if ((to.path === '/login' || to.path === '/register') &amp;&amp; authStore.isLoggedIn) {&#10;        next('/');&#10;    }&#10;    // 否则正常进入&#10;    else {&#10;        next();&#10;    }&#10;});&#10;&#10;export default router;" />
              <option name="updatedContent" value="import { createRouter, createWebHistory } from 'vue-router';&#10;import { useAuthStore } from '@/store/auth';&#10;&#10;import HomeView from '../views/HomeView.vue';&#10;import LoginView from '../views/LoginView.vue';&#10;import RegisterView from '../views/RegisterView.vue';&#10;import ProductCreate from '../views/ProductCreate.vue';&#10;import ProductDetail from '../views/ProductDetail.vue';&#10;import AdminUsers from '../views/AdminUsers.vue';&#10;&#10;// ===== 定义路由规则 =====&#10;const routes = [&#10;    {&#10;        path: '/',&#10;        name: 'home',&#10;        component: HomeView,&#10;        meta: { requiresAuth: true }, // 需要登录才能访问&#10;    },&#10;    {&#10;        path: '/login',&#10;        name: 'login',&#10;        component: LoginView,&#10;        meta: { requiresAuth: false }, // 登录页不需要权限&#10;    },&#10;    {&#10;        path: '/register',&#10;        name: 'register',&#10;        component: RegisterView,&#10;        meta: { requiresAuth: false },&#10;    },&#10;    {&#10;        path: '/products/create',&#10;        name: 'product-create',&#10;        component: ProductCreate,&#10;        meta: { requiresAuth: true },&#10;    },&#10;    {&#10;        path: '/products/:id',&#10;        name: 'product-detail',&#10;        component: ProductDetail,&#10;    },&#10;    {&#10;        path: '/admin/users',&#10;        name: 'admin-users',&#10;        component: AdminUsers,&#10;        meta: { requiresAuth: true, requiresAdmin: true },&#10;    },&#10;    {&#10;        path: '/:pathMatch(.*)*',&#10;        redirect: '/', // 未匹配的路径全部重定向到首页&#10;    },&#10;];&#10;&#10;// ===== 创建路由实例 =====&#10;const router = createRouter({&#10;    history: createWebHistory(process.env.BASE_URL),&#10;    routes,&#10;});&#10;&#10;// ===== 全局路由守卫 =====&#10;router.beforeEach((to, from, next) =&gt; {&#10;    const authStore = useAuthStore();&#10;&#10;    // 需要登录&#10;    if (to.meta.requiresAuth &amp;&amp; !authStore.isLoggedIn) {&#10;        return next('/login');&#10;    }&#10;&#10;    // 已登录时禁止访问登录/注册&#10;    if ((to.path === '/login' || to.path === '/register') &amp;&amp; authStore.isLoggedIn) {&#10;        return next('/');&#10;    }&#10;&#10;    // 需要管理员权限&#10;    if (to.meta.requiresAdmin) {&#10;        const role = authStore.user?.role;&#10;        if (role !== 'ROLE_ADMIN') {&#10;            return next('/');&#10;        }&#10;    }&#10;&#10;    return next();&#10;});&#10;&#10;export default router;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/frontend/src/views/AdminUsers.vue">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/frontend/src/views/AdminUsers.vue" />
              <option name="updatedContent" value="&lt;template&gt;&#10;  &lt;div class=&quot;admin-users&quot;&gt;&#10;    &lt;h1&gt;管理员中心 - 用户列表&lt;/h1&gt;&#10;    &lt;div v-if=&quot;loading&quot;&gt;加载中...&lt;/div&gt;&#10;    &lt;div v-else-if=&quot;error&quot; class=&quot;error&quot;&gt;{{ error }}&lt;/div&gt;&#10;    &lt;table v-else class=&quot;users-table&quot;&gt;&#10;      &lt;thead&gt;&#10;        &lt;tr&gt;&#10;          &lt;th&gt;ID&lt;/th&gt;&#10;          &lt;th&gt;用户名&lt;/th&gt;&#10;          &lt;th&gt;邮箱&lt;/th&gt;&#10;          &lt;th&gt;角色&lt;/th&gt;&#10;        &lt;/tr&gt;&#10;      &lt;/thead&gt;&#10;      &lt;tbody&gt;&#10;        &lt;tr v-for=&quot;u in users&quot; :key=&quot;u.id&quot;&gt;&#10;          &lt;td&gt;{{ u.id }}&lt;/td&gt;&#10;          &lt;td&gt;{{ u.username }}&lt;/td&gt;&#10;          &lt;td&gt;{{ u.email }}&lt;/td&gt;&#10;          &lt;td&gt;&#10;            &lt;span v-if=&quot;u.roles &amp;&amp; u.roles.length&quot;&gt;{{ u.roles.map(r =&gt; r.name).join(', ') }}&lt;/span&gt;&#10;            &lt;span v-else&gt;—&lt;/span&gt;&#10;          &lt;/td&gt;&#10;        &lt;/tr&gt;&#10;      &lt;/tbody&gt;&#10;    &lt;/table&gt;&#10;  &lt;/div&gt;&#10;&lt;/template&gt;&#10;&#10;&lt;script setup&gt;&#10;import { onMounted, ref } from 'vue';&#10;import axios from 'axios';&#10;&#10;const users = ref([]);&#10;const loading = ref(false);&#10;const error = ref('');&#10;&#10;const fetchUsers = async () =&gt; {&#10;  loading.value = true;&#10;  error.value = '';&#10;  try {&#10;    const { data } = await axios.get('/api/admin/users');&#10;    users.value = data;&#10;  } catch (e) {&#10;    error.value = '加载用户失败';&#10;    console.error(e);&#10;  } finally {&#10;    loading.value = false;&#10;  }&#10;};&#10;&#10;onMounted(fetchUsers);&#10;&lt;/script&gt;&#10;&#10;&lt;style scoped&gt;&#10;.admin-users {&#10;  padding: 20px;&#10;}&#10;.users-table {&#10;  width: 100%;&#10;  border-collapse: collapse;&#10;}&#10;.users-table th, .users-table td {&#10;  border: 1px solid #ddd;&#10;  padding: 8px;&#10;}&#10;.error {&#10;  color: #d33;&#10;}&#10;&lt;/style&gt;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/frontend/src/views/HomeView.vue">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/frontend/src/views/HomeView.vue" />
              <option name="originalContent" value="&lt;template&gt;&#10;  &lt;div class=&quot;home&quot;&gt;&#10;    &lt;h1&gt;欢迎来到二手图书交易平台&lt;/h1&gt;&#10;    &lt;div v-if=&quot;isLoggedIn &amp;&amp; currentUser&quot;&gt;&#10;      &lt;p&gt;你好, {{ currentUser.username }}!&lt;/p&gt;&#10;      &lt;p&gt;你已成功登录。&lt;/p&gt;&#10;    &lt;/div&gt;&#10;    &lt;div v-else&gt;&#10;      &lt;p&gt;请先 &lt;router-link to=&quot;/login&quot;&gt;登录&lt;/router-link&gt; 或 &lt;router-link to=&quot;/register&quot;&gt;注册&lt;/router-link&gt;。&lt;/p&gt;&#10;    &lt;/div&gt;&#10;  &lt;/div&gt;&#10;&lt;/template&gt;&#10;&#10;&lt;script setup&gt;&#10;import { computed } from 'vue';&#10;import { useAuthStore } from '@/store/auth';&#10;&#10;const authStore = useAuthStore();&#10;&#10;const isLoggedIn = computed(() =&gt; authStore.isLoggedIn);&#10;const currentUser = computed(() =&gt; authStore.user);&#10;&lt;/script&gt;&#10;&#10;&lt;style scoped&gt;&#10;.home {&#10;  padding: 20px;&#10;  text-align: center;&#10;}&#10;&lt;/style&gt;" />
              <option name="updatedContent" value="&lt;template&gt;&#10;  &lt;div class=&quot;home&quot;&gt;&#10;    &lt;h1&gt;欢迎来到二手图书交易平台&lt;/h1&gt;&#10;    &lt;div v-if=&quot;isLoggedIn &amp;&amp; currentUser&quot;&gt;&#10;      &lt;p&gt;你好, {{ currentUser.username }}!&lt;/p&gt;&#10;      &lt;p&gt;你已成功登录。&lt;/p&gt;&#10;      &lt;p v-if=&quot;currentUser.role === 'ROLE_ADMIN'&quot;&gt;&#10;        &lt;router-link to=&quot;/admin/users&quot;&gt;进入管理员中心&lt;/router-link&gt;&#10;      &lt;/p&gt;&#10;    &lt;/div&gt;&#10;    &lt;div v-else&gt;&#10;      &lt;p&gt;请先 &lt;router-link to=&quot;/login&quot;&gt;登录&lt;/router-link&gt; 或 &lt;router-link to=&quot;/register&quot;&gt;注册&lt;/router-link&gt;。&lt;/p&gt;&#10;    &lt;/div&gt;&#10;  &lt;/div&gt;&#10;&lt;/template&gt;&#10;&#10;&lt;script setup&gt;&#10;import { computed } from 'vue';&#10;import { useAuthStore } from '@/store/auth';&#10;&#10;const authStore = useAuthStore();&#10;&#10;const isLoggedIn = computed(() =&gt; authStore.isLoggedIn);&#10;const currentUser = computed(() =&gt; authStore.user);&#10;&lt;/script&gt;&#10;&#10;&lt;style scoped&gt;&#10;.home {&#10;  padding: 20px;&#10;  text-align: center;&#10;}&#10;&lt;/style&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/scripts/try-lombok-upgrades.sh">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/scripts/try-lombok-upgrades.sh" />
              <option name="originalContent" value="&#10;" />
              <option name="updatedContent" value="#!/usr/bin/env bash&#10;set -euo pipefail&#10;&#10;# Script to try multiple Lombok versions using Docker (JDK 23) to find one compatible with the project.&#10;# Usage: ./scripts/try-lombok-upgrades.sh&#10;&#10;POM=&quot;pom.xml&quot;&#10;BACKUP=&quot;${POM}.bak&quot;&#10;cp &quot;$POM&quot; &quot;$BACKUP&quot;&#10;&#10;VERSIONS=(&#10;  &quot;1.18.36&quot;&#10;  &quot;1.18.38&quot;&#10;  &quot;1.18.40&quot;&#10;  &quot;1.18.42&quot;&#10;  &quot;1.18.44&quot;&#10;  &quot;1.18.46&quot;&#10;  &quot;1.18.48&quot;&#10;  &quot;1.18.50&quot;&#10;  &quot;1.18.52&quot;&#10;)&#10;&#10;DOCKER_IMAGE=&quot;maven:3.9.11-jdk-23&quot;&#10;&#10;echo &quot;Using Docker image: $DOCKER_IMAGE&quot;&#10;&#10;tmpdir=$(mktemp -d)&#10;cleanup(){ rm -rf &quot;$tmpdir&quot;; }&#10;trap cleanup EXIT&#10;&#10;success=&quot;&quot;&#10;for v in &quot;${VERSIONS[@]}&quot;; do&#10;  echo&#10;  echo &quot;=============================================&quot;&#10;  echo &quot;Trying lombok version: $v&quot;&#10;  echo &quot;Updating $POM...&quot;&#10;&#10;  # Update the property in the pom (safe perl replacement)&#10;  perl -0777 -pe &quot;s|(&lt;lombok.version&gt;).*?(&lt;/lombok.version&gt;)|\1$v\2|s&quot; &quot;$BACKUP&quot; &gt; &quot;$tmpdir/pom.tmp&quot;&#10;  mv &quot;$tmpdir/pom.tmp&quot; &quot;$POM&quot;&#10;&#10;  echo &quot;Running Maven build inside Docker (JDK 23)...&quot;&#10;  # Run Maven inside Docker so javac=23 is used (avoids host javac mismatch)&#10;  if docker run --rm -v &quot;$PWD&quot;:/workspace -w /workspace $DOCKER_IMAGE mvn -U -DskipTests package &gt; &quot;build-lombok-$v.log&quot; 2&gt;&amp;1; then&#10;    echo &quot;Build succeeded with lombok $v&quot;&#10;    success=&quot;$v&quot;&#10;    break&#10;  else&#10;    echo &quot;Build failed with lombok $v (log: build-lombok-$v.log)&quot;&#10;  fi&#10;done&#10;&#10;if [ -n &quot;$success&quot; ]; then&#10;  echo &quot;SUCCESS: Project builds with lombok $success&quot;&#10;  echo &quot;pom.xml has been updated to use that version.&quot;&#10;  exit 0&#10;else&#10;  echo &quot;No tested Lombok version produced a successful build. Restoring original pom.xml&quot;&#10;  mv &quot;$BACKUP&quot; &quot;$POM&quot;&#10;  exit 1&#10;fi" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/lut/cn/c2cplatform/controller/AdminController.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/lut/cn/c2cplatform/controller/AdminController.java" />
              <option name="originalContent" value="package lut.cn.c2cplatform.controller;&#10;&#10;import lut.cn.c2cplatform.entity.User;&#10;import lut.cn.c2cplatform.mapper.UserMapper;&#10;import org.springframework.beans.factory.annotation.Autowired;&#10;import org.springframework.http.ResponseEntity;&#10;import org.springframework.security.access.prepost.PreAuthorize;&#10;import org.springframework.web.bind.annotation.*;&#10;import java.util.List;&#10;&#10;@RestController&#10;@RequestMapping(&quot;/api/admin&quot;)&#10;public class AdminController {&#10;    @Autowired&#10;    private UserMapper userMapper;&#10;&#10;    @GetMapping(&quot;/users&quot;)&#10;    @PreAuthorize(&quot;hasRole('ADMIN')&quot;)&#10;    public ResponseEntity&lt;List&lt;User&gt;&gt; getAllUsers() {&#10;        return ResponseEntity.ok(userMapper.selectAll());&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package lut.cn.c2cplatform.controller;&#10;&#10;import lut.cn.c2cplatform.entity.User;&#10;import lut.cn.c2cplatform.mapper.UserMapper;&#10;import org.springframework.beans.factory.annotation.Autowired;&#10;import org.springframework.http.ResponseEntity;&#10;import org.springframework.security.access.prepost.PreAuthorize;&#10;import org.springframework.web.bind.annotation.*;&#10;import java.util.List;&#10;&#10;@RestController&#10;@RequestMapping(&quot;/api/admin&quot;)&#10;public class AdminController {&#10;    @Autowired&#10;    private UserMapper userMapper;&#10;&#10;    @GetMapping(&quot;/users&quot;)&#10;    @PreAuthorize(&quot;hasRole('ADMIN')&quot;)&#10;    public ResponseEntity&lt;List&lt;User&gt;&gt; getAllUsers() {&#10;        // 返回包含角色信息的用户&#10;        return ResponseEntity.ok(userMapper.selectAllWithRoles());&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/lut/cn/c2cplatform/mapper/UserMapper.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/lut/cn/c2cplatform/mapper/UserMapper.java" />
              <option name="originalContent" value="package lut.cn.c2cplatform.mapper;&#10;&#10;import lut.cn.c2cplatform.entity.User;&#10;import org.apache.ibatis.annotations.Mapper;&#10;import org.apache.ibatis.annotations.Param;&#10;import java.util.List;&#10;&#10;@Mapper&#10;public interface UserMapper {&#10;    User selectById(@Param(&quot;id&quot;) Long id);&#10;    User selectByUsername(@Param(&quot;username&quot;) String username);&#10;    // 加载包含角色的用户&#10;    User selectByUsernameWithRoles(@Param(&quot;username&quot;) String username);&#10;    List&lt;User&gt; selectAll();&#10;    int insert(User user);&#10;    int update(User user);&#10;    int deleteById(@Param(&quot;id&quot;) Long id);&#10;}&#10;" />
              <option name="updatedContent" value="package lut.cn.c2cplatform.mapper;&#10;&#10;import lut.cn.c2cplatform.entity.User;&#10;import org.apache.ibatis.annotations.Mapper;&#10;import org.apache.ibatis.annotations.Param;&#10;import java.util.List;&#10;&#10;@Mapper&#10;public interface UserMapper {&#10;    User selectById(@Param(&quot;id&quot;) Long id);&#10;    User selectByUsername(@Param(&quot;username&quot;) String username);&#10;    // 加载包含角色的用户&#10;    User selectByUsernameWithRoles(@Param(&quot;username&quot;) String username);&#10;    // 加载所有用户（包含角色）&#10;    List&lt;User&gt; selectAllWithRoles();&#10;    List&lt;User&gt; selectAll();&#10;    int insert(User user);&#10;    int update(User user);&#10;    int deleteById(@Param(&quot;id&quot;) Long id);&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/resources/mapper/UserMapper.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/resources/mapper/UserMapper.xml" />
              <option name="originalContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;&#10;&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;&#10;&lt;mapper namespace=&quot;lut.cn.c2cplatform.mapper.UserMapper&quot;&gt;&#10;    &lt;resultMap id=&quot;UserResultMap&quot; type=&quot;lut.cn.c2cplatform.entity.User&quot;&gt;&#10;        &lt;id property=&quot;id&quot; column=&quot;id&quot;/&gt;&#10;        &lt;result property=&quot;username&quot; column=&quot;username&quot;/&gt;&#10;        &lt;result property=&quot;password&quot; column=&quot;password&quot;/&gt;&#10;        &lt;result property=&quot;email&quot; column=&quot;email&quot;/&gt;&#10;        &lt;result property=&quot;createdAt&quot; column=&quot;created_at&quot;/&gt;&#10;        &lt;result property=&quot;updatedAt&quot; column=&quot;updated_at&quot;/&gt;&#10;    &lt;/resultMap&gt;&#10;&#10;    &lt;!-- ResultMap with roles collection --&gt;&#10;    &lt;resultMap id=&quot;UserWithRolesResultMap&quot; type=&quot;lut.cn.c2cplatform.entity.User&quot; extends=&quot;UserResultMap&quot;&gt;&#10;        &lt;collection property=&quot;roles&quot; ofType=&quot;lut.cn.c2cplatform.entity.Role&quot; column=&quot;id&quot; select=&quot;selectRolesByUserId&quot;/&gt;&#10;    &lt;/resultMap&gt;&#10;&#10;    &lt;select id=&quot;selectById&quot; resultMap=&quot;UserResultMap&quot;&gt;&#10;        SELECT * FROM users WHERE id = #{id}&#10;    &lt;/select&gt;&#10;    &lt;select id=&quot;selectByUsername&quot; resultMap=&quot;UserResultMap&quot;&gt;&#10;        SELECT * FROM users WHERE username = #{username}&#10;    &lt;/select&gt;&#10;    &lt;select id=&quot;selectByUsernameWithRoles&quot; resultMap=&quot;UserWithRolesResultMap&quot;&gt;&#10;        SELECT * FROM users WHERE username = #{username}&#10;    &lt;/select&gt;&#10;    &lt;select id=&quot;selectAll&quot; resultMap=&quot;UserResultMap&quot;&gt;&#10;        SELECT * FROM users&#10;    &lt;/select&gt;&#10;    &lt;insert id=&quot;insert&quot; parameterType=&quot;lut.cn.c2cplatform.entity.User&quot; useGeneratedKeys=&quot;true&quot; keyProperty=&quot;id&quot;&gt;&#10;        INSERT INTO users (username, password, email, created_at, updated_at)&#10;        VALUES (#{username}, #{password}, #{email}, #{createdAt}, #{updatedAt})&#10;    &lt;/insert&gt;&#10;    &lt;update id=&quot;update&quot; parameterType=&quot;lut.cn.c2cplatform.entity.User&quot;&gt;&#10;        UPDATE users SET username=#{username}, password=#{password}, email=#{email}, updated_at=#{updatedAt} WHERE id=#{id}&#10;    &lt;/update&gt;&#10;    &lt;delete id=&quot;deleteById&quot; parameterType=&quot;long&quot;&gt;&#10;        DELETE FROM users WHERE id=#{id}&#10;    &lt;/delete&gt;&#10;&#10;    &lt;!-- helper select to load roles for user --&gt;&#10;    &lt;select id=&quot;selectRolesByUserId&quot; resultType=&quot;lut.cn.c2cplatform.entity.Role&quot;&gt;&#10;        SELECT r.id, r.name&#10;        FROM roles r&#10;        INNER JOIN user_roles ur ON ur.role_id = r.id&#10;        WHERE ur.user_id = #{value}&#10;    &lt;/select&gt;&#10;&lt;/mapper&gt;&#10;" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;&#10;&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;&#10;&lt;mapper namespace=&quot;lut.cn.c2cplatform.mapper.UserMapper&quot;&gt;&#10;    &lt;resultMap id=&quot;UserResultMap&quot; type=&quot;lut.cn.c2cplatform.entity.User&quot;&gt;&#10;        &lt;id property=&quot;id&quot; column=&quot;id&quot;/&gt;&#10;        &lt;result property=&quot;username&quot; column=&quot;username&quot;/&gt;&#10;        &lt;result property=&quot;password&quot; column=&quot;password&quot;/&gt;&#10;        &lt;result property=&quot;email&quot; column=&quot;email&quot;/&gt;&#10;        &lt;result property=&quot;createdAt&quot; column=&quot;created_at&quot;/&gt;&#10;        &lt;result property=&quot;updatedAt&quot; column=&quot;updated_at&quot;/&gt;&#10;    &lt;/resultMap&gt;&#10;&#10;    &lt;!-- ResultMap with roles collection --&gt;&#10;    &lt;resultMap id=&quot;UserWithRolesResultMap&quot; type=&quot;lut.cn.c2cplatform.entity.User&quot; extends=&quot;UserResultMap&quot;&gt;&#10;        &lt;collection property=&quot;roles&quot; ofType=&quot;lut.cn.c2cplatform.entity.Role&quot; column=&quot;id&quot; select=&quot;selectRolesByUserId&quot;/&gt;&#10;    &lt;/resultMap&gt;&#10;&#10;    &lt;select id=&quot;selectById&quot; resultMap=&quot;UserResultMap&quot;&gt;&#10;        SELECT * FROM users WHERE id = #{id}&#10;    &lt;/select&gt;&#10;    &lt;select id=&quot;selectByUsername&quot; resultMap=&quot;UserResultMap&quot;&gt;&#10;        SELECT * FROM users WHERE username = #{username}&#10;    &lt;/select&gt;&#10;    &lt;select id=&quot;selectByUsernameWithRoles&quot; resultMap=&quot;UserWithRolesResultMap&quot;&gt;&#10;        SELECT * FROM users WHERE username = #{username}&#10;    &lt;/select&gt;&#10;    &lt;select id=&quot;selectAll&quot; resultMap=&quot;UserResultMap&quot;&gt;&#10;        SELECT * FROM users&#10;    &lt;/select&gt;&#10;    &lt;select id=&quot;selectAllWithRoles&quot; resultMap=&quot;UserWithRolesResultMap&quot;&gt;&#10;        SELECT * FROM users&#10;    &lt;/select&gt;&#10;    &lt;insert id=&quot;insert&quot; parameterType=&quot;lut.cn.c2cplatform.entity.User&quot; useGeneratedKeys=&quot;true&quot; keyProperty=&quot;id&quot;&gt;&#10;        INSERT INTO users (username, password, email, created_at, updated_at)&#10;        VALUES (#{username}, #{password}, #{email}, #{createdAt}, #{updatedAt})&#10;    &lt;/insert&gt;&#10;    &lt;update id=&quot;update&quot; parameterType=&quot;lut.cn.c2cplatform.entity.User&quot;&gt;&#10;        UPDATE users SET username=#{username}, password=#{password}, email=#{email}, updated_at=#{updatedAt} WHERE id=#{id}&#10;    &lt;/update&gt;&#10;    &lt;delete id=&quot;deleteById&quot; parameterType=&quot;long&quot;&gt;&#10;        DELETE FROM users WHERE id=#{id}&#10;    &lt;/delete&gt;&#10;&#10;    &lt;!-- helper select to load roles for user --&gt;&#10;    &lt;select id=&quot;selectRolesByUserId&quot; resultType=&quot;lut.cn.c2cplatform.entity.Role&quot;&gt;&#10;        SELECT r.id, r.name&#10;        FROM roles r&#10;        INNER JOIN user_roles ur ON ur.role_id = r.id&#10;        WHERE ur.user_id = #{value}&#10;    &lt;/select&gt;&#10;&lt;/mapper&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/toolchains-sample.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/toolchains-sample.xml" />
              <option name="originalContent" value="&#10;" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;!-- Copy this file to ~/.m2/toolchains.xml and edit the &lt;jdkHome&gt; path so Maven can use JDK 17 for builds --&gt;&#10;&lt;toolchains&gt;&#10;  &lt;toolchain&gt;&#10;    &lt;type&gt;jdk&lt;/type&gt;&#10;    &lt;provides&gt;&#10;      &lt;version&gt;17&lt;/version&gt;&#10;      &lt;!-- Vendor optional: omit or set to your JDK vendor (temurin, corretto, oracle, etc.) --&gt;&#10;    &lt;/provides&gt;&#10;    &lt;configuration&gt;&#10;      &lt;!-- Update jdkHome to your local JDK 17 installation path --&gt;&#10;      &lt;jdkHome&gt;/Library/Java/JavaVirtualMachines/temurin-17.jdk/Contents/Home&lt;/jdkHome&gt;&#10;    &lt;/configuration&gt;&#10;  &lt;/toolchain&gt;&#10;&lt;/toolchains&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>