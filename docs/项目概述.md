# c2csectrade - 智能二手商品交易平台

## 🎯 项目定位

RebookTrade 是一个**企业级分布式二手商品交易平台**，专注于为用户提供安全、便捷、智能的闲置物品交易服务。平台支持**多品类商品交易**，包括但不限于：

- 📱 **数码产品**：手机、平板、电脑、相机等
- 👕 **服装鞋包**：服饰、鞋类、箱包配饰
- 📚 **图书教材**：教材、小说、专业书籍
- 🏠 **家居生活**：家具、家电、生活用品
- ⚽ **运动户外**：运动器材、户外装备
- 🎮 **娱乐收藏**：游戏、乐器、手办
- 🚗 **交通工具**：自行车、电动车（校园）
- 🎨 **其他品类**：美妆、母婴、宠物用品等

## 🌟 核心特性

### 1. 智能推荐系统
- **5种推荐算法**：协同过滤、内容推荐、NCF神经网络、实时推荐、混合推荐
- **A/B测试框架**：数据驱动的算法优化
- **多目标优化**：同时优化CTR、CVR、收入、多样性、新颖性
- **实时推荐**：毫秒级响应，基于用户会话的即时推荐

### 2. 完整的交易流程
- **商品发布**：富文本编辑器，多图上传，多品类支持
- **智能搜索**：Elasticsearch全文搜索，多条件筛选
- **购物车**：批量管理，合并结算
- **订单系统**：自动拆单，状态追踪
- **支付系统**：账户余额，支付密码，模拟支付
- **物流跟踪**：订单状态实时更新

### 3. 社交化电商
- **即时通讯**：WebSocket实时聊天，买卖双方沟通
- **砍价系统**：发起砍价，邀请好友助力
- **收藏夹**：收藏心仪商品，价格变动提醒
- **双向评价**：交易后互相评分评论
- **信用体系**：智能信用积分，信用等级展示

### 4. 分布式架构
- **Redis缓存**：分布式缓存，会话管理，分布式锁
- **RabbitMQ**：事件驱动，异步处理，削峰填谷
- **Elasticsearch**：高性能全文搜索，聚合分析
- **MinIO**：分布式对象存储，图片视频管理
- **负载均衡**：支持水平扩展，多实例部署

### 5. 安全与管理
- **用户认证**：JWT Token，安全加密
- **权限管理**：RBAC权限模型
- **举报系统**：用户举报，管理员审核
- **用户管理**：封禁/解封，行为监控
- **数据备份**：定期备份，容灾恢复

## 📊 技术架构

```
┌─────────────────────────────────────────────────────────────┐
│                    Frontend (Vue.js 3)                       │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐   │
│  │ 商品浏览  │  │ 购物车   │  │ 订单管理  │  │ 聊天系统  │   │
│  └──────────┘  └──────────┘  └──────────┘  └──────────┘   │
└─────────────────────────────────────────────────────────────┘
                              ↓ REST API + WebSocket
┌─────────────────────────────────────────────────────────────┐
│              Spring Boot Application (多实例)                │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐   │
│  │推荐系统   │  │订单服务   │  │支付服务   │  │聊天服务   │   │
│  └──────────┘  └──────────┘  └──────────┘  └──────────┘   │
└─────────────────────────────────────────────────────────────┘
           ↓              ↓              ↓              ↓
┌────────────┐  ┌────────────┐  ┌────────────┐  ┌────────────┐
│   Redis    │  │  RabbitMQ  │  │   MySQL    │  │    MinIO   │
│  缓存/会话  │  │  消息队列   │  │  持久化    │  │  对象存储   │
└────────────┘  └────────────┘  └────────────┘  └────────────┘
           ↓
┌────────────────┐
│ Elasticsearch  │
│   全文搜索      │
└────────────────┘
```

## 🎨 推荐系统架构

```
用户请求
   ↓
[A/B测试分流] → 5种推荐策略
   ├─ Control: 协同过滤 (20%)
   ├─ Variant A: 基于内容 (20%)
   ├─ Variant B: 混合推荐 (20%)
   ├─ Variant C: NCF神经网络 (20%)
   └─ Variant D: 实时推荐 (20%)
   ↓
[候选生成]
   ├─ 协同过滤 (Item-Based CF)
   ├─ 内容相似度 (TF-IDF)
   ├─ NCF神经网络 (GMF + MLP)
   ├─ 实时趋势分析
   └─ 用户兴趣画像
   ↓
[多目标优化]
   ├─ CTR预测 (25%)
   ├─ CVR预测 (30%)
   ├─ 收入优化 (20%)
   ├─ 多样性 (15%)
   └─ 新颖性 (10%)
   ↓
[MMR重排序] → 提升多样性
   ↓
[Redis缓存] → 毫秒级响应
   ↓
返回推荐结果
```

## 📈 性能指标

### 系统性能
- **并发用户**: 10,000+
- **QPS**: 5,000+
- **响应时间**: P95 < 500ms, P99 < 1s
- **可用性**: 99.9%

### 推荐系统性能
- **推荐覆盖率**: > 85%
- **缓存命中率**: > 95%
- **推荐响应**: P99 < 200ms
- **实时更新**: < 5分钟

### 业务指标
- **点击率 (CTR)**: 目标 > 3%
- **转化率 (CVR)**: 目标 > 0.5%
- **用户满意度**: 目标 > 4.0/5.0

## 🚀 快速开始

### 环境要求
- Docker & Docker Compose
- JDK 17+
- Node.js 16+
- 8GB+ RAM

### 一键启动
```bash
# 克隆项目
git clone <repository-url>
cd rebooktrade

# 启动所有服务
docker-compose up -d

# 访问应用
# 前端: http://localhost:80
# 后端: http://localhost:8080
# RabbitMQ: http://localhost:15672 (admin/admin123)
# MinIO: http://localhost:9001 (minioadmin/minioadmin)
```

详细部署文档请查看: [部署与使用指南](docs/部署与使用指南.md)

## 📚 文档目录

- [推荐系统文档](docs/推荐系统文档.md) - 详细的推荐算法说明
- [分布式系统架构](docs/分布式系统架构文档.md) - 完整的架构设计
- [部署与使用指南](docs/部署与使用指南.md) - 生产环境部署
- [商品发布与管理系统](docs/商品发布与管理系统文档.md)
- [订单与支付系统](docs/订单与支付系统文档.md)
- [即时通讯系统](docs/即时通讯系统文档.md)
- [砍价功能测试指南](docs/砍价功能测试指南.md)
- [评价与信用积分系统](docs/评价与信用积分系统文档.md)
- [举报功能文档](docs/举报功能文档.md)

## 🎯 业务场景

### 1. 学生用户
- 教材交易：学期结束出售闲置教材
- 数码产品：升级换代，出售旧设备
- 生活用品：毕业清仓，快速变现

### 2. 社区用户
- 家居家电：搬家换房，二手家具
- 母婴用品：孩子长大，闲置用品
- 兴趣爱好：收藏品、运动器材交换

### 3. 商家用户
- 库存清理：尾货处理，快速回笼资金
- 二手回收：专业评估，规模化经营
- 品牌宣传：展示产品，建立信任

## 🔐 安全特性

- **数据加密**: 敏感信息AES加密存储
- **密码安全**: BCrypt加密，支付密码独立
- **防刷机制**: Redis限流，防止恶意请求
- **分布式锁**: 防止超卖，保证库存一致性
- **XSS防护**: 前端输入校验，后端过滤
- **CSRF防护**: Token验证
- **SQL注入防护**: MyBatis参数化查询

## 🌈 未来规划

- [ ] **移动端应用**: React Native / Flutter
- [ ] **支付对接**: 支付宝、微信支付
- [ ] **物流对接**: 快递100、菜鸟裹裹
- [ ] **AI客服**: 智能问答机器人
- [ ] **图像识别**: 商品图片智能分类
- [ ] **区块链**: 交易溯源，防伪验真
- [ ] **社交功能**: 用户关注，动态分享
- [ ] **直播带货**: 实时视频展示商品

## 👥 贡献指南

欢迎提交Issue和Pull Request！

## 📄 开源协议

本项目采用 MIT 协议开源

## 📧 联系方式

如有问题或建议，欢迎通过以下方式联系：
- 提交Issue
- 发送邮件
- 加入讨论组

---

**⭐ 如果这个项目对你有帮助，请给个Star支持一下！**

